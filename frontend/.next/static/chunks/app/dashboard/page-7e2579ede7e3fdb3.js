(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2981:function(e,s,a){Promise.resolve().then(a.bind(a,441))},441:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});var t=a(7437),l=a(1713),i=a(5135),c=a(7168),r=a(3781),n=a(8906),d=a(1239),x=a(6221),m=a(7648);async function o(){let e=await fetch("".concat("http://localhost:8000","/repositories"),{credentials:"include"});if(!e.ok)throw Error("Failed to fetch repositories");return e.json()}function h(){let{data:e,isLoading:s,error:a,refetch:h}=(0,l.a)({queryKey:["repositories"],queryFn:o}),j=(null==e?void 0:e.repositories)||[];return s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Please connect your GitHub account to continue."}),(0,t.jsxs)("a",{href:"".concat("http://localhost:8000","/auth/github"),className:"btn btn-primary inline-flex items-center gap-2",children:[(0,t.jsx)(i.Z,{className:"w-5 h-5"}),"Connect GitHub"]})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AutoDevOps AI"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:()=>h(),className:"btn btn-secondary inline-flex items-center gap-2",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),"Refresh"]}),(0,t.jsxs)("a",{href:"".concat("http://localhost:8000","/auth/github"),className:"btn btn-primary inline-flex items-center gap-2",children:[(0,t.jsx)(i.Z,{className:"w-5 h-5"}),"Connect Repository"]})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600",children:(0,t.jsx)(r.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Repositories"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.length})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,t.jsx)(n.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Avg Security"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"--"})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:(0,t.jsx)(d.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Avg Performance"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"--"})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:(0,t.jsx)(x.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Analyses"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"--"})]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connected Repositories"}),0===j.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No repositories connected"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Connect your GitHub repositories to start analyzing and improving your code."}),(0,t.jsxs)("a",{href:"".concat("http://localhost:8000","/auth/github"),className:"btn btn-primary inline-flex items-center gap-2",children:[(0,t.jsx)(i.Z,{className:"w-5 h-5"}),"Connect GitHub"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,t.jsx)(r.Z,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:(0,t.jsx)("a",{href:"/repositories/".concat(e.id),className:"hover:text-primary-600",children:e.full_name})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.description||"No description"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.language&&(0,t.jsx)("span",{className:"badge badge-info",children:e.language}),e.is_private?(0,t.jsx)("span",{className:"badge badge-warning",children:"Private"}):(0,t.jsx)("span",{className:"badge badge-success",children:"Public"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-right text-sm text-gray-500",children:e.last_analyzed_at?(0,t.jsxs)("span",{children:["Last analyzed: ",new Date(e.last_analyzed_at).toLocaleDateString()]}):(0,t.jsx)("span",{children:"Not yet analyzed"})}),(0,t.jsx)(m.default,{href:"/repositories/".concat(e.id),className:"btn btn-secondary text-sm",children:"View"})]})]},e.id))})]})]})]})}}},function(e){e.O(0,[763,812,971,117,744],function(){return e(e.s=2981)}),_N_E=e.O()}]);