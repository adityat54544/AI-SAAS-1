# Environment Variables for AutoDevOps AI Platform
# ==========================================
# IMPORTANT: Copy this file to .env and fill in your values
# All secrets should come from Railway (backend) and Vercel (frontend) environment variables
# ==========================================

# ==========================================
# Application Settings
# ==========================================
APP_NAME=AutoDevOps AI Platform
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development

# ==========================================
# Server Settings
# ==========================================
HOST=0.0.0.0
PORT=8000

# ==========================================
# Supabase Configuration
# ==========================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=your_supabase_url_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ==========================================
# GitHub Webhook Configuration
# ==========================================
# Secret for verifying webhook signatures
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# ==========================================
# AI Configuration
# ==========================================
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
AI_PROVIDER=gemini
AI_MODEL=gemini-1.5-flash

# ==========================================
# Redis Configuration
# ==========================================
# Primary Redis URL - can be standalone Redis or Upstash
REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your_redis_password_here  # Optional

# Supabase Redis Configuration (alternative to standalone Redis)
# If set, takes precedence over REDIS_URL for Supabase-managed Redis
# Find these in Supabase Dashboard -> Project Settings -> Database -> Redis
# SUPABASE_REDIS_URL=redis://....supabase.co:6379
# SUPABASE_REDIS_PASSWORD=your_supabase_redis_password

# ==========================================
# Encryption Configuration
# ==========================================
# Generate with: python -c "import os, base64; print(base64.urlsafe_b64encode(os.urandom(32)).decode())"
ENCRYPTION_KEY=your_base64_encoded_32_byte_key_here

# ==========================================
# Security Settings
# ==========================================
# Comma-separated list of allowed origins
# For production, include your frontend URL (e.g., Vercel deployment)
# Example: http://localhost:3000,http://localhost:8000,https://your-app.vercel.app
# IMPORTANT: In production, set this to your Vercel frontend URL
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Frontend Configuration
# Set this to your frontend URL (e.g., Vercel deployment)
# IMPORTANT: In production, set this to your production frontend URL
# Example: FRONTEND_URL=https://your-app.vercel.app
FRONTEND_URL=http://localhost:3000

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ==========================================
# Observability (Sentry)
# ==========================================
# Get DSN from: https://sentry.io/
# SENTRY_DSN=your_sentry_dsn_here
# SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==========================================
# Logging
# ==========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==========================================
# Authentication Notes
# ==========================================
# Authentication is handled via Supabase Auth on the frontend.
# The backend validates Bearer tokens from the Authorization header.
# 
# Required Frontend (Vercel) Environment Variables:
# - NEXT_PUBLIC_SUPABASE_URL: Your Supabase project URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY: Your Supabase anon/public key
# - NEXT_PUBLIC_API_URL: Your Railway backend URL
# - NEXT_PUBLIC_FRONTEND_URL: Your Vercel frontend URL
#
# Required Backend (Railway) Environment Variables:
# - SUPABASE_URL: Your Supabase project URL
# - SUPABASE_SERVICE_ROLE_KEY: Your Supabase service role key
# - FRONTEND_URL: Your Vercel frontend URL
# - All other secrets above